---
title: "AWS Backup „ÅßEC2„ÅÆË®≠ÂÆö„Åå„Å©„Åì„Åæ„ÅßÊàª„Çã„ÅãË©¶„Åó„Å¶„Åø„Åü"
emoji: "üíª"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["AWS","EC2","AWS Backup"]
published: true
---

„Åì„Çì„Å´„Å°„ÅØ„ÄÇ  
„ÅîÊ©üÂ´å„ÅÑ„Åã„Åå„Åß„Åó„Çá„ÅÜ„Åã„ÄÇ  
"No human labor is no human error" „ÅåÂ§ßÂ•Ω„Åç„Å™[Âêâ‰∫ï ‰∫Æ](https://twitter.com/YoshiiRyo1)„Åß„Åô„ÄÇ  

ÂÖàÊó• [AWS „Éë„Éñ„É™„ÉÉ„ÇØIP„Ç¢„Éâ„É¨„Çπ ÊñôÈáë‰ΩìÁ≥ªÂ§âÊõ¥„Å´ÂØæÂøú„Åô„Çã‰ΩúÊ•≠ EC2Á∑®](https://zenn.dev/ryoyoshii/articles/ecef64cde77b2f) „Å®„ÅÑ„ÅÜË®ò‰∫ã„ÇíÊõ∏„Åç„Åæ„Åó„Åü„ÄÇAWS „Åå„Éë„Éñ„É™„ÉÉ„ÇØ IP „Ç¢„Éâ„É¨„Çπ„Å´Ë™≤Èáë„ÇíÂßã„ÇÅ„Çã„Å®„ÅÑ„ÅÜ„Åì„Å®„ÅßÂØæÁ≠ñ„ÇíËÄÉ„Åà„Å¶„ÅÑ„Åæ„Åô„ÄÇ  
EC2 „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆ„Éë„Éñ„É™„ÉÉ„ÇØ IP „Ç¢„Éâ„É¨„ÇπËá™Âãï‰ªò‰∏éË®≠ÂÆö„ÅØ„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆÂÜç‰ΩúÊàê„Å´„Å™„Å£„Å¶„Åó„Åæ„ÅÑ„Åæ„Åô„ÄÇÂÜç‰ΩúÊàêÊñπÊ≥ï„ÅØËâ≤„ÄÖ„ÅÇ„Çã„ÅÆ„Åß„Åô„Åå„ÄÅAWS Backup „Å´ÂèØËÉΩÊÄß„Åå„ÅÇ„Çã„Åã„Å©„ÅÜ„Åã„ÇíË™ø„Åπ„Å¶„Åø„Åæ„Åó„Åü„ÄÇ  

Êú¨Ë®ò‰∫ã„Åß„ÅØ„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÂÖÉ EC2 „Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰ΩúÊàê„Åó„ÄÅAWS Backup „Åß„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÇíÂèñÂæó„ÄÅ„Åù„Çå„Çí„É™„Çπ„Éà„Ç¢„Åó„Å¶Ë®≠ÂÆöÂÄ§„ÇíÊØîËºÉ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
EC2 „Ç§„É≥„Çπ„Çø„É≥„Çπ‰ΩúÊàê„ÄÅAWS Backup Ë®≠ÂÆö„ÅØÂÖ¨Âºè„É¶„Éº„Ç∂„Éº„Ç¨„Ç§„ÉâÁ≠â„ÇíÂèÇËÄÉ„Å´„Åó„Å¶ÂÆå‰∫Ü„Åó„Å¶„ÅÑ„ÇãÂâçÊèê„ÅßÊõ∏„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åî‰∫ÜÊâø„Åè„Å†„Åï„ÅÑ„ÄÇ  

EC2 „Éá„Éï„Ç©„É´„ÉàË®≠ÂÆö„Åå„É™„Çπ„Éà„Ç¢„Åï„Çå„Çã„Åì„Å®„ÅØÂÆπÊòì„Å´ÊÉ≥ÂÉè„Åß„Åç„Åü„ÅÆ„ÅßÂ∞ë„Åó„Å†„ÅëÁ¥∞„Åã„ÅÑ EC2 Ë®≠ÂÆö„ÇíÂÖ•„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ  

- „Éë„Éñ„É™„ÉÉ„ÇØ IP „Ç¢„Éâ„É¨„Çπ„Çí‰ªò‰∏é
- Ë©≥Á¥∞„É¢„Éã„Çø„É™„É≥„Ç∞„ÇíÊúâÂäπ
- ÂÅúÊ≠¢‰øùË≠∑„ÇíÊúâÂäπ
- ÁµÇ‰∫Ü‰øùË≠∑„ÇíÈ¢®ÂÖâ
- EBS „Éú„É™„É•„Éº„É†„Çí1„Å§ËøΩÂä†
- „Ç§„É≥„Çπ„Çø„É≥„Çπ„Éó„É≠„Éï„Ç°„Ç§„É´„ÇíË®≠ÂÆö
- „Çø„Ç∞„Çí3„Å§ËøΩÂä†
    - Name
    - OS
    - Env


„Åï„ÅÇ„ÄÅ„Åì„Çå„Åß„Å©„Åì„Åæ„ÅßÊàª„Çã„ÅÆ„ÅãÊ•Ω„Åó„Åø„Åß„Åô„ÄÇ  

## „Éû„Éç„Ç∏„É°„É≥„Éà„Ç≥„É≥„ÇΩ„Éº„É´„Åã„Çâ„É™„Çπ„Éà„Ç¢

„Éû„Éç„Ç∏„É°„É≥„Éà„Ç≥„É≥„ÇΩ„Éº„É´„ÅÆ AWS Backup ÁîªÈù¢„Åã„Çâ„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí„É™„Çπ„Éà„Ç¢„Åó„Åæ„Åó„Åü„ÄÇ
ÊâãÈ†Ü„ÅØ [Restoring an Amazon EC2 instance](https://docs.aws.amazon.com/aws-backup/latest/devguide/restoring-ec2.html) „ÇíÂèÇÁÖß„Åè„Å†„Åï„ÅÑ„ÄÇ  

ÈÄî‰∏≠ **‰øùË≠∑„Åï„Çå„Åü„É™„ÇΩ„Éº„Çπ„Åã„ÇâÂæ©ÂÖÉ„Åï„Çå„Åü„É™„ÇΩ„Éº„Çπ„Å´„Çø„Ç∞„Çí„Ç≥„Éî„Éº** „Å´„ÉÅ„Çß„ÉÉ„ÇØ„ÇíÂÖ•„Çå„Åæ„Åô„ÄÇ  

![img](/images/c573e96012957b9.42.33.png)


„É™„Çπ„Éà„Ç¢„Åï„Çå„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅåËµ∑Âãï„Åó„Åæ„Åó„Åü„ÄÇ  
ÂÖÉ„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å®Ë®≠ÂÆöÂÄ§„ÇíÊØîËºÉ„Åó„Åü„ÅÑ„ÅÆ„Åß `ec2 describe-instances` „ÇíÂÆüË°å„Åó„Åæ„Åô„ÄÇÁµêÊûú„ÅØ„Éï„Ç°„Ç§„É´„Å´Âá∫Âäõ„Åß„Åô„ÄÇ  

```bash
# ÂÖÉ„Ç§„É≥„Çπ„Çø„É≥„Çπ
$ aws ec2 describe-instances --instance-ids i-0b641f133448c5870 > i-0b641f133448c5870.out

# „É™„Çπ„Éà„Ç¢„Ç§„É≥„Çπ„Çø„É≥„Çπ
$ aws ec2 describe-instances --instance-ids i-02804bd1cd5d72eb4 > i-02804bd1cd5d72eb4.out
```

ÂÖÉ„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å®„É™„Çπ„Éà„Ç¢Âæå„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÅÆÂá∫Âäõ„Éï„Ç°„Ç§„É´„Çí sdiff „Å®„ÇäÂ∑ÆÂàÜ„Çí„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åó„Åæ„Åô„ÄÇ  
`ImageId`„ÄÅ`InstanceId`„ÄÅIP „Ç¢„Éâ„É¨„ÇπÈñ¢ÈÄ£„ÄÅDNS ÂêçÈñ¢ÈÄ£„ÄÅ„Äú„ÄúTime „ÅØÂ§âÊõ¥„Åï„Çå„Çã„ÅÆ„ÅåÊ≠£Ëß£„Å™„ÅÆ„ÅßÂ∑ÆÂàÜ„Å®„ÅóÊâ±„ÅÑ„Åæ„Åõ„Çì„ÄÇ  

- PublicIpAddress 
- Monitoring


:::details „ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â±ïÈñã

```bash
$ sdiff i-0b641f133448c5870.out i-02804bd1cd5d72eb4.out 
{                                                               {
    "Reservations": [                                               "Reservations": [
        {                                                               {
            "Groups": [],                                                   "Groups": [],
            "Instances": [                                                  "Instances": [
                {                                                               {
                    "AmiLaunchIndex": 0,                                            "AmiLaunchIndex": 0,
                    "ImageId": "ami-00970f57473724c10",       |                     "ImageId": "ami-010f38efa8aa4a201",
                    "InstanceId": "i-0b641f133448c5870",      |                     "InstanceId": "i-02804bd1cd5d72eb4",
                    "InstanceType": "t2.micro",                                     "InstanceType": "t2.micro",
                    "KeyName": "RyoYoshii_backup_restore",                          "KeyName": "RyoYoshii_backup_restore",
                    "LaunchTime": "2023-08-01T00:54:41+00:00" |                     "LaunchTime": "2023-08-01T00:51:48+00:00"
                    "Monitoring": {                                                 "Monitoring": {
                        "State": "enabled"                    |                         "State": "disabled"
                    },                                                              },
                    "Placement": {                                                  "Placement": {
                        "AvailabilityZone": "us-west-2c",                               "AvailabilityZone": "us-west-2c",
                        "GroupName": "",                                                "GroupName": "",
                        "Tenancy": "default"                                            "Tenancy": "default"
                    },                                                              },
                    "PrivateDnsName": "ip-10-0-35-222.us-west |                     "PrivateDnsName": "ip-10-0-38-193.us-west
                    "PrivateIpAddress": "10.0.35.222",        |                     "PrivateIpAddress": "10.0.38.193",
                    "ProductCodes": [],                                             "ProductCodes": [],
                    "PublicDnsName": "ec2-34-211-141-138.us-w |                     "PublicDnsName": "",
                    "PublicIpAddress": "34.211.141.138",      <
                    "State": {                                                      "State": {
                        "Code": 16,                                                     "Code": 16,
                        "Name": "running"                                               "Name": "running"
                    },                                                              },
                    "StateTransitionReason": "",                                    "StateTransitionReason": "",
                    "SubnetId": "subnet-09ff3e0d0eba2b798",                         "SubnetId": "subnet-09ff3e0d0eba2b798",
                    "VpcId": "vpc-0610142586f930357",                               "VpcId": "vpc-0610142586f930357",
                    "Architecture": "x86_64",                                       "Architecture": "x86_64",
                    "BlockDeviceMappings": [                                        "BlockDeviceMappings": [
                        {                                                               {
                            "DeviceName": "/dev/xvda",                                      "DeviceName": "/dev/xvda",
                            "Ebs": {                                                        "Ebs": {
                                "AttachTime": "2023-08-01T00: |                                 "AttachTime": "2023-08-01T00:
                                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                                "Status": "attached",                                           "Status": "attached",
                                "VolumeId": "vol-0a5618c8f0c0 |                                 "VolumeId": "vol-06ccee5434ad
                            }                                                               }
                        },                                                              },
                        {                                                               {
                            "DeviceName": "/dev/sdb",                                       "DeviceName": "/dev/sdb",
                            "Ebs": {                                                        "Ebs": {
                                "AttachTime": "2023-08-01T00: |                                 "AttachTime": "2023-08-01T00:
                                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                                "Status": "attached",                                           "Status": "attached",
                                "VolumeId": "vol-09f8e094f4b8 |                                 "VolumeId": "vol-093495cd0635
                            }                                                               }
                        }                                                               }
                    ],                                                              ],
                    "ClientToken": "3951850d-8bf2-4b04-ac28-a |                     "ClientToken": "38B148DE-C2C7-D91F-65EE-2
                    "EbsOptimized": false,                                          "EbsOptimized": false,
                    "EnaSupport": true,                                             "EnaSupport": true,
                    "Hypervisor": "xen",                                            "Hypervisor": "xen",
                    "IamInstanceProfile": {                                         "IamInstanceProfile": {
                        "Arn": "arn:aws:iam::743846825521:ins                           "Arn": "arn:aws:iam::743846825521:ins
                        "Id": "AIPA22MFZZYYU5CZA7U5U"                                   "Id": "AIPA22MFZZYYU5CZA7U5U"
                    },                                                              },
                    "NetworkInterfaces": [                                          "NetworkInterfaces": [
                        {                                                               {
                            "Association": {                  <
                                "IpOwnerId": "amazon",        <
                                "PublicDnsName": "ec2-34-211- <
                                "PublicIp": "34.211.141.138"  <
                            },                                <
                            "Attachment": {                                                 "Attachment": {
                                "AttachTime": "2023-08-01T00: |                                 "AttachTime": "2023-08-01T00:
                                "AttachmentId": "eni-attach-0 |                                 "AttachmentId": "eni-attach-0
                                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                                "DeviceIndex": 0,                                               "DeviceIndex": 0,
                                "Status": "attached",                                           "Status": "attached",
                                "NetworkCardIndex": 0                                           "NetworkCardIndex": 0
                            },                                                              },
                            "Description": "",                                              "Description": "",
                            "Groups": [                                                     "Groups": [
                                {                                                               {
                                    "GroupName": "RyoYoshii-t                                       "GroupName": "RyoYoshii-t
                                    "GroupId": "sg-031483be16                                       "GroupId": "sg-031483be16
                                }                                                               }
                            ],                                                              ],
                            "Ipv6Addresses": [],                                            "Ipv6Addresses": [],
                            "MacAddress": "0a:7f:cf:99:12:ff" |                             "MacAddress": "0a:71:09:4d:53:4d"
                            "NetworkInterfaceId": "eni-063b34 |                             "NetworkInterfaceId": "eni-006a7f
                            "OwnerId": "743846825521",                                      "OwnerId": "743846825521",
                            "PrivateDnsName": "ip-10-0-35-222 |                             "PrivateDnsName": "ip-10-0-38-193
                            "PrivateIpAddress": "10.0.35.222" |                             "PrivateIpAddress": "10.0.38.193"
                            "PrivateIpAddresses": [                                         "PrivateIpAddresses": [
                                {                                                               {
                                    "Association": {          <
                                        "IpOwnerId": "amazon" <
                                        "PublicDnsName": "ec2 <
                                        "PublicIp": "34.211.1 <
                                    },                        <
                                    "Primary": true,                                                "Primary": true,
                                    "PrivateDnsName": "ip-10- |                                     "PrivateDnsName": "ip-10-
                                    "PrivateIpAddress": "10.0 |                                     "PrivateIpAddress": "10.0
                                }                                                               }
                            ],                                                              ],
                            "SourceDestCheck": true,                                        "SourceDestCheck": true,
                            "Status": "in-use",                                             "Status": "in-use",
                            "SubnetId": "subnet-09ff3e0d0eba2                               "SubnetId": "subnet-09ff3e0d0eba2
                            "VpcId": "vpc-0610142586f930357",                               "VpcId": "vpc-0610142586f930357",
                            "InterfaceType": "interface"                                    "InterfaceType": "interface"
                        }                                                               }
                    ],                                                              ],
                    "RootDeviceName": "/dev/xvda",                                  "RootDeviceName": "/dev/xvda",
                    "RootDeviceType": "ebs",                                        "RootDeviceType": "ebs",
                    "SecurityGroups": [                                             "SecurityGroups": [
                        {                                                               {
                            "GroupName": "RyoYoshii-test-sg",                               "GroupName": "RyoYoshii-test-sg",
                            "GroupId": "sg-031483be16216aaf0"                               "GroupId": "sg-031483be16216aaf0"
                        }                                                               }
                    ],                                                              ],
                    "SourceDestCheck": true,                                        "SourceDestCheck": true,
                    "Tags": [                                                       "Tags": [
                        {                                                               {
                            "Key": "OS",                                                    "Key": "OS",
                            "Value": "Amazon Linux 2023"                                    "Value": "Amazon Linux 2023"
                        },                                                              },
                        {                                                               {
                            "Key": "Env",                     <
                            "Value": "stage"                  <
                        },                                    <
                        {                                     <
                            "Key": "Name",                                                  "Key": "Name",
                            "Value": "RyoYoshii_backup_restor                               "Value": "RyoYoshii_backup_restor
                                                              >                         },
                                                              >                         {
                                                              >                             "Key": "Env",
                                                              >                             "Value": "stage"
                        }                                                               }
                    ],                                                              ],
                    "VirtualizationType": "hvm",                                    "VirtualizationType": "hvm",
                    "CpuOptions": {                                                 "CpuOptions": {
                        "CoreCount": 1,                                                 "CoreCount": 1,
                        "ThreadsPerCore": 1                                             "ThreadsPerCore": 1
                    },                                                              },
                    "CapacityReservationSpecification": {                           "CapacityReservationSpecification": {
                        "CapacityReservationPreference": "ope                           "CapacityReservationPreference": "ope
                    },                                                              },
                    "HibernationOptions": {                                         "HibernationOptions": {
                        "Configured": false                                             "Configured": false
                    },                                                              },
                    "MetadataOptions": {                                            "MetadataOptions": {
                        "State": "applied",                                             "State": "applied",
                        "HttpTokens": "required",                                       "HttpTokens": "required",
                        "HttpPutResponseHopLimit": 2,                                   "HttpPutResponseHopLimit": 2,
                        "HttpEndpoint": "enabled",                                      "HttpEndpoint": "enabled",
                        "HttpProtocolIpv6": "disabled",                                 "HttpProtocolIpv6": "disabled",
                        "InstanceMetadataTags": "disabled"                              "InstanceMetadataTags": "disabled"
                    },                                                              },
                    "EnclaveOptions": {                                             "EnclaveOptions": {
                        "Enabled": false                                                "Enabled": false
                    },                                                              },
                    "BootMode": "uefi-preferred",                                   "BootMode": "uefi-preferred",
                    "PlatformDetails": "Linux/UNIX",                                "PlatformDetails": "Linux/UNIX",
                    "UsageOperation": "RunInstances",                               "UsageOperation": "RunInstances",
                    "UsageOperationUpdateTime": "2023-08-01T0 |                     "UsageOperationUpdateTime": "2023-08-01T0
                    "PrivateDnsNameOptions": {                                      "PrivateDnsNameOptions": {
                        "HostnameType": "ip-name",                                      "HostnameType": "ip-name",
                        "EnableResourceNameDnsARecord": false                           "EnableResourceNameDnsARecord": false
                        "EnableResourceNameDnsAAAARecord": fa                           "EnableResourceNameDnsAAAARecord": fa
                    },                                                              },
                    "MaintenanceOptions": {                                         "MaintenanceOptions": {
                        "AutoRecovery": "default"                                       "AutoRecovery": "default"
                    },                                                              },
                    "CurrentInstanceBootMode": "legacy-bios"                        "CurrentInstanceBootMode": "legacy-bios"
                }                                                               }
            ],                                                              ],
            "OwnerId": "743846825521",                                      "OwnerId": "743846825521",
            "ReservationId": "r-0cd1859aabb46a71d"            |             "RequesterId": "197132336604",
                                                              >             "ReservationId": "r-007e1d1660f4c1af2"
        }                                                               }
    ]                                                               ]
}                                                               }
```

:::

Á∂ö„ÅÑ„Å¶ `describe-instances` „Åß„ÅØÊãæ„Åà„Å™„ÅÑ„Ç§„É≥„Çπ„Çø„É≥„ÇπÂ±ûÊÄß„ÇÇÊØîËºÉ„Åó„Åæ„Åô„ÄÇ  
„Ç§„É≥„Çπ„Çø„É≥„ÇπÂ±ûÊÄß„ÇíÂèñÂæó„Åô„Çã„Ç≥„Éû„É≥„Éâ„ÅØ `ec2 describe-instance-attribute` „Åß„Åô„ÄÇ‰∏ÄÊ∞ó„ÅÆÂÖ®Â±ûÊÄß„ÅåÂèñ„Çå„Åù„ÅÜ„Å´„Å™„ÅÑ„ÅÆ„Åß bash for „ÅßÂõû„Åó„Åæ„Åô„ÄÇ  

```bash:attr.sh 
#!/bin/bash

InstanceId=$1

LIST="
instanceType
kernel
ramdisk
userData
disableApiTermination
instanceInitiatedShutdownBehavior
rootDeviceName
blockDeviceMapping
productCodes
sourceDestCheck
groupSet
ebsOptimized
sriovNetSupport
enclaveOptions
disableApiStop"

for l in $LIST
do
  aws ec2 describe-instance-attribute --instance-id ${InstanceId} --attribute $l | egrep -v InstanceId
done

exit 0
```

„Ç∑„Çß„É´„Çπ„ÇØ„É™„Éó„Éà„ÅÆÂºïÊï∞„Å´„Ç§„É≥„Çπ„Çø„É≥„Çπ ID „Çí‰∏é„Åà„Å¶ÂÆüË°å„Åó„Åæ„Åô„ÄÇ‰æã„Å´„Çà„Å£„Å¶Âá∫Âäõ„ÅØ„Éï„Ç°„Ç§„É´„Åß„Åô„ÄÇ  

```bash
$ bash attr.sh i-0b641f133448c5870 > attr-i-0b641f133448c5870.out

$ bash attr.sh i-02804bd1cd5d72eb4 > attr-i-02804bd1cd5d72eb4.out
```

sdiff „Å®„ÇäÂ∑ÆÂàÜ„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ  

- UserData
- DisableApiTermination
- DisableApiStop


:::details „ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â±ïÈñã

```bash
$ sdiff attr-i-0b641f133448c5870.out attr-i-02804bd1cd5d72eb4.out 
{                                                               {
    "InstanceType": {                                               "InstanceType": {
        "Value": "t2.micro"                                             "Value": "t2.micro"
    }                                                               }
}                                                               }
{                                                               {
    "KernelId": {}                                                  "KernelId": {}
}                                                               }
{                                                               {
    "RamdiskId": {}                                                 "RamdiskId": {}
}                                                               }
{                                                               {
    "UserData": {                                             |     "UserData": {}
        "Value": "IyEvYmluL2Jhc2gKCnl1bSB1cGRhdGUgLXk="       <
    }                                                         <
}                                                               }
{                                                               {
    "DisableApiTermination": {                                      "DisableApiTermination": {
        "Value": true                                         |         "Value": false
    },                                                              },
}                                                               }
{                                                               {
    "InstanceInitiatedShutdownBehavior": {                          "InstanceInitiatedShutdownBehavior": {
        "Value": "stop"                                                 "Value": "stop"
    }                                                               }
}                                                               }
{                                                               {
    "RootDeviceName": {                                             "RootDeviceName": {
        "Value": "/dev/xvda"                                            "Value": "/dev/xvda"
    }                                                               }
}                                                               }
{                                                               {
    "BlockDeviceMappings": [                                        "BlockDeviceMappings": [
        {                                                               {
            "DeviceName": "/dev/xvda",                                      "DeviceName": "/dev/xvda",
            "Ebs": {                                                        "Ebs": {
                "AttachTime": "2023-08-01T00:18:03+00:00",    |                 "AttachTime": "2023-08-01T00:51:49+00:00",
                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                "Status": "attached",                                           "Status": "attached",
                "VolumeId": "vol-0a5618c8f0c07ae33"           |                 "VolumeId": "vol-06ccee5434adac3cf"
            }                                                               }
        },                                                              },
        {                                                               {
            "DeviceName": "/dev/sdb",                                       "DeviceName": "/dev/sdb",
            "Ebs": {                                                        "Ebs": {
                "AttachTime": "2023-08-01T00:18:03+00:00",    |                 "AttachTime": "2023-08-01T00:51:49+00:00",
                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                "Status": "attached",                                           "Status": "attached",
                "VolumeId": "vol-09f8e094f4b8fc82a"           |                 "VolumeId": "vol-093495cd06357e896"
            }                                                               }
        }                                                               }
    ],                                                              ],
}                                                               }
{                                                               {
    "ProductCodes": []                                              "ProductCodes": []
}                                                               }
{                                                               {
    "SourceDestCheck": {                                            "SourceDestCheck": {
        "Value": true                                                   "Value": true
    }                                                               }
}                                                               }
{                                                               {
    "Groups": [                                                     "Groups": [
        {                                                               {
            "GroupName": "RyoYoshii-test-sg",                               "GroupName": "RyoYoshii-test-sg",
            "GroupId": "sg-031483be16216aaf0"                               "GroupId": "sg-031483be16216aaf0"
        }                                                               }
    ],                                                              ],
}                                                               }
{                                                               {
    "EbsOptimized": {                                               "EbsOptimized": {
        "Value": false                                                  "Value": false
    },                                                              },
}                                                               }
{                                                               {
    "SriovNetSupport": {                                            "SriovNetSupport": {
        "Value": "simple"                                               "Value": "simple"
    }                                                               }
}                                                               }
{                                                               {
    "EnclaveOptions": {                                             "EnclaveOptions": {
        "Enabled": false                                                "Enabled": false
    },                                                              },
}                                                               }
{                                                               {
    "DisableApiStop": {                                             "DisableApiStop": {
        "Value": true                                         |         "Value": false
    }                                                               }
}                                                               }
```

:::


## „Å™„Åú„Åì„ÅÜ„Å™„Å£„Åü„Åã

„Éû„Éç„Ç∏„É°„É≥„Éà„Ç≥„É≥„ÇΩ„Éº„É´ „Åß„ÅÆ AWS Backup „É™„Çπ„Éà„Ç¢„ÅØÁ¥∞„Åã„ÅÑÂÄ§„ÇíË®≠ÂÆö„Åß„Åç„Åæ„Åõ„Çì„ÄÇ‰ª•‰∏ã„ÅÆ„Çπ„ÇØ„Ç∑„Éß„Åè„Çâ„ÅÑ„Åã„Å™„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ  
„Éû„Éç„Ç∏„É°„É≥„Éà„Ç≥„É≥„ÇΩ„Éº„É´„Åã„Çâ„ÅÆ„É™„Çπ„Éà„Ç¢„ÅØÈõ£ÊòìÂ∫¶„Åå‰Ωé„Åè‰æøÂà©„Åß„ÅØ„ÅÇ„Çã„ÅÆ„Åß„Åô„Åå„ÄÅEC2 „Çí‰Ωø„ÅÑËæº„Çì„Åß„ÅÑ„Çã„Çà„ÅÜ„Å™„Ç±„Éº„Çπ„Åß„ÅØÊ¥ªÁî®„ÅØÈõ£„Åó„Åù„ÅÜ„ÅØÂç∞Ë±°„Åß„Åô„ÄÇ  

![img](../images/c573e96012957b9.57.05.png)  

## ÁêÜÊÉ≥„ÅÆÊâãÈ†Ü

„Éû„Éç„Ç∏„É°„É≥„Éà„Ç≥„É≥„ÇΩ„Éº„É´„Åã„Çâ„É™„Çπ„Éà„Ç¢„ÅØ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Ç®„É≥„Ç∏„Éã„Ç¢„Å®„Åó„Å¶„ÅØÁâ©Ë∂≥„Çä„Å™„ÅÑ„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„Åå„ÄÅÂÆü„ÅØÂÖ¨Âºè„Åå‰æøÂà©„Å™ÊñπÊ≥ï„ÇíÊïô„Åà„Å¶„Åè„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ  

[AWS CLI „Çí‰ΩøÁî®„Åó„Å¶ AWS Backup „ÅÆ„É™„Ç´„Éê„É™„Éù„Ç§„É≥„Éà„Åã„Çâ Amazon EC2 „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÂæ©ÂÖÉ„Åô„Çã„Å´„ÅØ„Å©„ÅÜ„Åô„Çå„Å∞„Çà„ÅÑ„Åß„Åô„Åã?](https://repost.aws/ja/knowledge-center/aws-backup-ec2-restore-cli)  

Ë©≥„Åó„Åè„ÅØ‰∏ä„ÅÆ„É™„É≥„ÇØ„ÇíË™≠„Çì„Åß„Åª„Åó„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ `backup get-recovery-point-restore-metadata` „Ç≥„Éû„É≥„Éâ„ÅßÂá∫Âäõ„Åó„ÅüÁµêÊûú„ÇíÁ∑®ÈõÜ„Åó„Å¶ÈÅ©Âàá„Å™„É°„Çø„Éï„Ç£„Éº„É´„Éâ„Å®ÂÄ§„ÇíË®òËø∞„Åó„Åü„Éï„Ç°„Ç§„É´„Å´‰øùÂ≠ò„Åô„Çã„Å®„Åì„Çç„Çí„ÇÇ„ÅÜÂ∞ë„ÅóË™¨Êòé„Åó„Åæ„Åô„ÄÇ  
„Åì„ÅÆËá™ÂàÜ„Åß‰Ωú„Çã„Éï„Ç°„Ç§„É´„Å´Êõ∏„Åè„É°„Çø„Éï„Ç£„Éº„É´„Éâ„ÅØ [API Reference RunInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) „Å´„É™„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ
API Reference „Çí„Åô„Åø„Åö„Åø„Åæ„ÅßË™≠„ÅøËß£„Åç„Å™„Åå„Çâ„Éï„Ç°„Ç§„É´„Çí‰Ωú„Å£„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ  

‰æã„Åà„Å∞„ÄÅ`backup get-recovery-point-restore-metadata` „ÅÆÁµêÊûú„Åß„ÅØ `SubnetId` „ÅåÂá∫Âäõ„Åï„Çå„Åæ„Åô„Åå„ÄÅ`SubnetId` „ÅØ `NetworkInterfaces` „ÅÆ„Çµ„Éñ„Éç„ÉÉ„ÉàÊåáÂÆö„Å®ÈáçË§á„Åß„Åç„Å™„ÅÑ„ÅÆ„Åß `SubnetId` Ë°å„ÅØÂâäÈô§„Åó„Åæ„Åô„ÄÅ„Å™„Å©„ÅÆ„Å°„Çá„Å£„Å®„Åó„ÅüÂ∑•Â§´„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ  

Âü∫Êú¨ÁöÑ„Å´„ÅØ [AWS CLI „Çí‰ΩøÁî®„Åó„Å¶ AWS Backup „ÅÆ„É™„Ç´„Éê„É™„Éù„Ç§„É≥„Éà„Åã„Çâ Amazon EC2 „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÂæ©ÂÖÉ„Åô„Çã„Å´„ÅØ„Å©„ÅÜ„Åô„Çå„Å∞„Çà„ÅÑ„Åß„Åô„Åã?](https://repost.aws/ja/knowledge-center/aws-backup-ec2-restore-cli) „ÅÆ‰æã„ÇíÁúü‰ºº„Åó„Å¶Êõ∏„Åë„Å∞Â§±Êïó„ÅØ„Å™„ÅÑ„ÅØ„Åö„Åß„Åô„ÄÇ   

```json
{
"VpcId": "vpc-1a2b3c4d",
"Monitoring": "{\"State\":\"disabled\"}",
"CapacityReservationSpecification": "{\"CapacityReservationPreference\":\"open\"}",
"InstanceInitiatedShutdownBehavior": "stop",
"DisableApiTermination": "false",
"KeyName": "BackupTesting",
"CreditSpecification": "{\"CpuCredits\":\"standard\"}",
"HibernationOptions": "{\"Configured\":false}",
"EbsOptimized": "false",
"Placement": "{\"AvailabilityZone\":\"eu-west-1b\",\"GroupName\":\"\",\"Tenancy\":\"default\"}",
"aws:backup:request-id": "c1234567-ee7c-4896-beeb-ee123b456789",
"InstanceType": "t2.micro",
"NetworkInterfaces": "[{\"DeleteOnTermination\":true,\"Description\":\"Primary network interface\",\"DeviceIndex\":0,\"Groups\":[\"sg-0babcd1234567890f\"],\"Ipv6AddressCount\":0,\"Ipv6Addresses\":[],\"PrivateIpAddresses\":[{\"Primary\":true,\"PrivateIpAddress\":\"192.0.2.210\"}],\"SecondaryPrivateIpAddressCount\":1,\"SubnetId\":\"subnet-1a2b3c4d\",\"InterfaceType\":\"interface\"}]"
}
```

### „É™„Çπ„Éà„Ç¢

„É°„Çø„Éï„Ç£„Éº„É´„Éâ„Å®ÂÄ§„ÇíË®òËø∞„Åó„Åü„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê„Åó„Åü„Å®„Åì„Çç„É™„Çπ„Éà„Ç¢„Åó„Åæ„Åô„ÄÇ  
[AWS CLI „Çí‰ΩøÁî®„Åó„Å¶ AWS Backup „ÅÆ„É™„Ç´„Éê„É™„Éù„Ç§„É≥„Éà„Åã„Çâ Amazon EC2 „Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíÂæ©ÂÖÉ„Åô„Çã„Å´„ÅØ„Å©„ÅÜ„Åô„Çå„Å∞„Çà„ÅÑ„Åß„Åô„Åã?](https://repost.aws/ja/knowledge-center/aws-backup-ec2-restore-cli) „ÅÆ‰æã„Å´ `--copy-source-tags-to-restored-resource` „ÇíËøΩÂä†„Åó„Å¶ÂÆüË°å„Åó„Åæ„Åô„ÄÇ  

```bash
$ aws backup start-restore-job --region eu-west-1 --recovery-point-arn "arn:aws:ec2:eu-west-1::image/ami-012ab3456789c0123" --iam-role-arn "arn:aws:iam::123456789012:role/service-role/AWSBackupDefaultServiceRole"  --metadata file://ec2-restore-metadata.json --copy-source-tags-to-restored-resource
```

Ââç„Å®Âêå„Åò„Åß `ec2 describe-instances` „Å® `ec2 describe-instance-attribute` „ÅÆÁµêÊûú„Çí sdiff „Å®„Çä„Åæ„Åô„ÄÇ  

`ec2 describe-instances` „ÅÆÂ∑ÆÂàÜ„ÅØÁÑ°Ë¶ñ„Åó„Å¶„Çà„ÅÑ„ÇÇ„ÅÆ‰ª•Â§ñ„ÅØÁÑ°„Åè„Å™„Çä„Åæ„Åó„Åü„ÄÇ  


:::details „ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â±ïÈñã

```bash
$ sdiff i-0b641f133448c5870.out i-0c6110ab03fb5f9a5.out 
{                                                               {
    "Reservations": [                                               "Reservations": [
        {                                                               {
            "Groups": [],                                                   "Groups": [],
            "Instances": [                                                  "Instances": [
                {                                                               {
                    "AmiLaunchIndex": 0,                                            "AmiLaunchIndex": 0,
                    "ImageId": "ami-00970f57473724c10",       |                     "ImageId": "ami-0aa2e136e2198c8d9",
                    "InstanceId": "i-0b641f133448c5870",      |                     "InstanceId": "i-0c6110ab03fb5f9a5",
                    "InstanceType": "t2.micro",                                     "InstanceType": "t2.micro",
                    "KeyName": "RyoYoshii_backup_restore",                          "KeyName": "RyoYoshii_backup_restore",
                    "LaunchTime": "2023-08-01T00:54:41+00:00" |                     "LaunchTime": "2023-08-01T04:44:01+00:00"
                    "Monitoring": {                                                 "Monitoring": {
                        "State": "enabled"                                              "State": "enabled"
                    },                                                              },
                    "Placement": {                                                  "Placement": {
                        "AvailabilityZone": "us-west-2c",                               "AvailabilityZone": "us-west-2c",
                        "GroupName": "",                                                "GroupName": "",
                        "Tenancy": "default"                                            "Tenancy": "default"
                    },                                                              },
                    "PrivateDnsName": "ip-10-0-35-222.us-west |                     "PrivateDnsName": "ip-10-0-35-12.us-west-
                    "PrivateIpAddress": "10.0.35.222",        |                     "PrivateIpAddress": "10.0.35.12",
                    "ProductCodes": [],                                             "ProductCodes": [],
                    "PublicDnsName": "ec2-34-211-141-138.us-w |                     "PublicDnsName": "ec2-18-236-220-191.us-w
                    "PublicIpAddress": "34.211.141.138",      |                     "PublicIpAddress": "18.236.220.191",
                    "State": {                                                      "State": {
                        "Code": 16,                                                     "Code": 16,
                        "Name": "running"                                               "Name": "running"
                    },                                                              },
                    "StateTransitionReason": "",                                    "StateTransitionReason": "",
                    "SubnetId": "subnet-09ff3e0d0eba2b798",                         "SubnetId": "subnet-09ff3e0d0eba2b798",
                    "VpcId": "vpc-0610142586f930357",                               "VpcId": "vpc-0610142586f930357",
                    "Architecture": "x86_64",                                       "Architecture": "x86_64",
                    "BlockDeviceMappings": [                                        "BlockDeviceMappings": [
                        {                                                               {
                            "DeviceName": "/dev/xvda",                                      "DeviceName": "/dev/xvda",
                            "Ebs": {                                                        "Ebs": {
                                "AttachTime": "2023-08-01T00: |                                 "AttachTime": "2023-08-01T04:
                                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                                "Status": "attached",                                           "Status": "attached",
                                "VolumeId": "vol-0a5618c8f0c0 |                                 "VolumeId": "vol-0d8df54ae548
                            }                                                               }
                        },                                                              },
                        {                                                               {
                            "DeviceName": "/dev/sdb",                                       "DeviceName": "/dev/sdb",
                            "Ebs": {                                                        "Ebs": {
                                "AttachTime": "2023-08-01T00: |                                 "AttachTime": "2023-08-01T04:
                                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                                "Status": "attached",                                           "Status": "attached",
                                "VolumeId": "vol-09f8e094f4b8 |                                 "VolumeId": "vol-0f6eba940f72
                            }                                                               }
                        }                                                               }
                    ],                                                              ],
                    "ClientToken": "3951850d-8bf2-4b04-ac28-a |                     "ClientToken": "37D92A52-FF73-62B2-3FEC-2
                    "EbsOptimized": false,                                          "EbsOptimized": false,
                    "EnaSupport": true,                                             "EnaSupport": true,
                    "Hypervisor": "xen",                                            "Hypervisor": "xen",
                    "IamInstanceProfile": {                                         "IamInstanceProfile": {
                        "Arn": "arn:aws:iam::743846825521:ins                           "Arn": "arn:aws:iam::743846825521:ins
                        "Id": "AIPA22MFZZYYU5CZA7U5U"                                   "Id": "AIPA22MFZZYYU5CZA7U5U"
                    },                                                              },
                    "NetworkInterfaces": [                                          "NetworkInterfaces": [
                        {                                                               {
                            "Association": {                                                "Association": {
                                "IpOwnerId": "amazon",                                          "IpOwnerId": "amazon",
                                "PublicDnsName": "ec2-34-211- |                                 "PublicDnsName": "ec2-18-236-
                                "PublicIp": "34.211.141.138"  |                                 "PublicIp": "18.236.220.191"
                            },                                                              },
                            "Attachment": {                                                 "Attachment": {
                                "AttachTime": "2023-08-01T00: |                                 "AttachTime": "2023-08-01T04:
                                "AttachmentId": "eni-attach-0 |                                 "AttachmentId": "eni-attach-0
                                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                                "DeviceIndex": 0,                                               "DeviceIndex": 0,
                                "Status": "attached",                                           "Status": "attached",
                                "NetworkCardIndex": 0                                           "NetworkCardIndex": 0
                            },                                                              },
                            "Description": "",                                              "Description": "",
                            "Groups": [                                                     "Groups": [
                                {                                                               {
                                    "GroupName": "RyoYoshii-t                                       "GroupName": "RyoYoshii-t
                                    "GroupId": "sg-031483be16                                       "GroupId": "sg-031483be16
                                }                                                               }
                            ],                                                              ],
                            "Ipv6Addresses": [],                                            "Ipv6Addresses": [],
                            "MacAddress": "0a:7f:cf:99:12:ff" |                             "MacAddress": "0a:d2:98:d0:4d:d5"
                            "NetworkInterfaceId": "eni-063b34 |                             "NetworkInterfaceId": "eni-0e9748
                            "OwnerId": "743846825521",                                      "OwnerId": "743846825521",
                            "PrivateDnsName": "ip-10-0-35-222 |                             "PrivateDnsName": "ip-10-0-35-12.
                            "PrivateIpAddress": "10.0.35.222" |                             "PrivateIpAddress": "10.0.35.12",
                            "PrivateIpAddresses": [                                         "PrivateIpAddresses": [
                                {                                                               {
                                    "Association": {                                                "Association": {
                                        "IpOwnerId": "amazon"                                           "IpOwnerId": "amazon"
                                        "PublicDnsName": "ec2 |                                         "PublicDnsName": "ec2
                                        "PublicIp": "34.211.1 |                                         "PublicIp": "18.236.2
                                    },                                                              },
                                    "Primary": true,                                                "Primary": true,
                                    "PrivateDnsName": "ip-10- |                                     "PrivateDnsName": "ip-10-
                                    "PrivateIpAddress": "10.0 |                                     "PrivateIpAddress": "10.0
                                }                                                               }
                            ],                                                              ],
                            "SourceDestCheck": true,                                        "SourceDestCheck": true,
                            "Status": "in-use",                                             "Status": "in-use",
                            "SubnetId": "subnet-09ff3e0d0eba2                               "SubnetId": "subnet-09ff3e0d0eba2
                            "VpcId": "vpc-0610142586f930357",                               "VpcId": "vpc-0610142586f930357",
                            "InterfaceType": "interface"                                    "InterfaceType": "interface"
                        }                                                               }
                    ],                                                              ],
                    "RootDeviceName": "/dev/xvda",                                  "RootDeviceName": "/dev/xvda",
                    "RootDeviceType": "ebs",                                        "RootDeviceType": "ebs",
                    "SecurityGroups": [                                             "SecurityGroups": [
                        {                                                               {
                            "GroupName": "RyoYoshii-test-sg",                               "GroupName": "RyoYoshii-test-sg",
                            "GroupId": "sg-031483be16216aaf0"                               "GroupId": "sg-031483be16216aaf0"
                        }                                                               }
                    ],                                                              ],
                    "SourceDestCheck": true,                                        "SourceDestCheck": true,
                    "Tags": [                                                       "Tags": [
                        {                                                               {
                            "Key": "OS",                      |                             "Key": "Name",
                            "Value": "Amazon Linux 2023"      |                             "Value": "RyoYoshii_backup_restor
                        },                                                              },
                        {                                                               {
                            "Key": "Env",                                                   "Key": "Env",
                            "Value": "stage"                                                "Value": "stage"
                        },                                                              },
                        {                                                               {
                            "Key": "Name",                    |                             "Key": "OS",
                            "Value": "RyoYoshii_backup_restor |                             "Value": "Amazon Linux 2023"
                        }                                                               }
                    ],                                                              ],
                    "VirtualizationType": "hvm",                                    "VirtualizationType": "hvm",
                    "CpuOptions": {                                                 "CpuOptions": {
                        "CoreCount": 1,                                                 "CoreCount": 1,
                        "ThreadsPerCore": 1                                             "ThreadsPerCore": 1
                    },                                                              },
                    "CapacityReservationSpecification": {                           "CapacityReservationSpecification": {
                        "CapacityReservationPreference": "ope                           "CapacityReservationPreference": "ope
                    },                                                              },
                    "HibernationOptions": {                                         "HibernationOptions": {
                        "Configured": false                                             "Configured": false
                    },                                                              },
                    "MetadataOptions": {                                            "MetadataOptions": {
                        "State": "applied",                                             "State": "applied",
                        "HttpTokens": "required",                                       "HttpTokens": "required",
                        "HttpPutResponseHopLimit": 2,                                   "HttpPutResponseHopLimit": 2,
                        "HttpEndpoint": "enabled",                                      "HttpEndpoint": "enabled",
                        "HttpProtocolIpv6": "disabled",                                 "HttpProtocolIpv6": "disabled",
                        "InstanceMetadataTags": "disabled"                              "InstanceMetadataTags": "disabled"
                    },                                                              },
                    "EnclaveOptions": {                                             "EnclaveOptions": {
                        "Enabled": false                                                "Enabled": false
                    },                                                              },
                    "BootMode": "uefi-preferred",                                   "BootMode": "uefi-preferred",
                    "PlatformDetails": "Linux/UNIX",                                "PlatformDetails": "Linux/UNIX",
                    "UsageOperation": "RunInstances",                               "UsageOperation": "RunInstances",
                    "UsageOperationUpdateTime": "2023-08-01T0 |                     "UsageOperationUpdateTime": "2023-08-01T0
                    "PrivateDnsNameOptions": {                                      "PrivateDnsNameOptions": {
                        "HostnameType": "ip-name",                                      "HostnameType": "ip-name",
                        "EnableResourceNameDnsARecord": false                           "EnableResourceNameDnsARecord": false
                        "EnableResourceNameDnsAAAARecord": fa                           "EnableResourceNameDnsAAAARecord": fa
                    },                                                              },
                    "MaintenanceOptions": {                                         "MaintenanceOptions": {
                        "AutoRecovery": "default"                                       "AutoRecovery": "default"
                    },                                                              },
                    "CurrentInstanceBootMode": "legacy-bios"                        "CurrentInstanceBootMode": "legacy-bios"
                }                                                               }
            ],                                                              ],
            "OwnerId": "743846825521",                                      "OwnerId": "743846825521",
            "ReservationId": "r-0cd1859aabb46a71d"            |             "RequesterId": "197132336604",
                                                              >             "ReservationId": "r-02432f15cd0a45cfd"
        }                                                               }
    ]                                                               ]
}                                                               }

```

:::



`ec2 describe-instance-attribute` „ÅÆÂ∑ÆÂàÜ„Åß„Åô„ÄÇ  

- UserData
- DisableApiStop

:::details „ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶Â±ïÈñã

```bash
$ sdiff attr-i-0b641f133448c5870.out attr-i-0c6110ab03fb5f9a5.out 
{                                                               {
    "InstanceType": {                                               "InstanceType": {
        "Value": "t2.micro"                                             "Value": "t2.micro"
    }                                                               }
}                                                               }
{                                                               {
    "KernelId": {}                                                  "KernelId": {}
}                                                               }
{                                                               {
    "RamdiskId": {}                                                 "RamdiskId": {}
}                                                               }
{                                                               {
    "UserData": {                                             |     "UserData": {}
        "Value": "IyEvYmluL2Jhc2gKCnl1bSB1cGRhdGUgLXk="       <
    }                                                         <
}                                                               }
{                                                               {
    "DisableApiTermination": {                                      "DisableApiTermination": {
        "Value": true                                                   "Value": true
    },                                                              },
}                                                               }
{                                                               {
    "InstanceInitiatedShutdownBehavior": {                          "InstanceInitiatedShutdownBehavior": {
        "Value": "stop"                                                 "Value": "stop"
    }                                                               }
}                                                               }
{                                                               {
    "RootDeviceName": {                                             "RootDeviceName": {
        "Value": "/dev/xvda"                                            "Value": "/dev/xvda"
    }                                                               }
}                                                               }
{                                                               {
    "BlockDeviceMappings": [                                        "BlockDeviceMappings": [
        {                                                               {
            "DeviceName": "/dev/xvda",                                      "DeviceName": "/dev/xvda",
            "Ebs": {                                                        "Ebs": {
                "AttachTime": "2023-08-01T00:18:03+00:00",    |                 "AttachTime": "2023-08-01T04:44:02+00:00",
                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                "Status": "attached",                                           "Status": "attached",
                "VolumeId": "vol-0a5618c8f0c07ae33"           |                 "VolumeId": "vol-0d8df54ae5488fe09"
            }                                                               }
        },                                                              },
        {                                                               {
            "DeviceName": "/dev/sdb",                                       "DeviceName": "/dev/sdb",
            "Ebs": {                                                        "Ebs": {
                "AttachTime": "2023-08-01T00:18:03+00:00",    |                 "AttachTime": "2023-08-01T04:44:02+00:00",
                "DeleteOnTermination": true,                                    "DeleteOnTermination": true,
                "Status": "attached",                                           "Status": "attached",
                "VolumeId": "vol-09f8e094f4b8fc82a"           |                 "VolumeId": "vol-0f6eba940f72b1625"
            }                                                               }
        }                                                               }
    ],                                                              ],
}                                                               }
{                                                               {
    "ProductCodes": []                                              "ProductCodes": []
}                                                               }
{                                                               {
    "SourceDestCheck": {                                            "SourceDestCheck": {
        "Value": true                                                   "Value": true
    }                                                               }
}                                                               }
{                                                               {
    "Groups": [                                                     "Groups": [
        {                                                               {
            "GroupName": "RyoYoshii-test-sg",                               "GroupName": "RyoYoshii-test-sg",
            "GroupId": "sg-031483be16216aaf0"                               "GroupId": "sg-031483be16216aaf0"
        }                                                               }
    ],                                                              ],
}                                                               }
{                                                               {
    "EbsOptimized": {                                               "EbsOptimized": {
        "Value": false                                                  "Value": false
    },                                                              },
}                                                               }
{                                                               {
    "SriovNetSupport": {                                            "SriovNetSupport": {
        "Value": "simple"                                               "Value": "simple"
    }                                                               }
}                                                               }
{                                                               {
    "EnclaveOptions": {                                             "EnclaveOptions": {
        "Enabled": false                                                "Enabled": false
    },                                                              },
}                                                               }
{                                                               {
    "DisableApiStop": {                                             "DisableApiStop": {
        "Value": true                                         |         "Value": false
    }                                                               }
}                         
```

:::

### Ê§úË®º

„Ç§„É≥„Çπ„Çø„É≥„ÇπÂ±ûÊÄß„Å´Â∑ÆÂàÜ„ÅåÂá∫„Å¶„Åó„Åæ„ÅÑ„Åæ„Åó„Åü„ÄÇ  
`backup get-recovery-point-restore-metadata` „ÅÆÁµêÊûú„Åã„Çâ„É°„Çø„Éï„Ç£„Éº„É´„Éâ„ÇíË®òËø∞„Åó„Åü„Éï„Ç°„Ç§„É´„ÇíÁîüÊàê„Åó„ÄÅ„Åù„Çå„ÇíÂü∫„Å´„É™„Çπ„Éà„Ç¢„Åó„Åæ„Åó„Åü„ÄÇ„Åå„ÄÅÊÉÖÂ†±„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åü„Åã„Çâ„Å†„Å®ËÄÉ„Åà„Åæ„Åô„ÄÇ  
ÂÆåÂÖ®„Å´Âêå„Åò„Ç§„É≥„Çπ„Çø„É≥„Çπ„Å®„Åó„Å¶„É™„Çπ„Éà„Ç¢„Åô„Çã„Å´„ÅØ [API Reference RunInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) „Å´„É™„Çπ„Éà„Åï„Çå„Å¶„ÅÑ„Çã„É°„Çø„Éï„Ç£„Éº„É´„Éâ„Åã„Çâ‰∏çË∂≥ÂàÜ„ÇíËá™ÂàÜ„ÅßË®òËø∞„Åó„Å¶„ÅÇ„Åí„Å™„ÅÑ„Å®„Å™„Çâ„Å™„ÅÑ„Çà„ÅÜ„Åß„Åô„ÄÇ      
Ê≠£Áõ¥„Åù„Çå„Å™„Çâ RunInstances „ÇíÂÆüË°å„Åó„Åü„Åª„ÅÜ„ÅåËá™ÂãïÂåñ„Åó„ÇÑ„Åô„ÅÑ„Å®ÂÄã‰∫∫ÁöÑ„Å´ÊÑü„Åò„Å¶„Åó„Åæ„ÅÑ„Åæ„Åó„Åü„ÄÇ„ÄÇ„ÄÇ  

## „Åæ„Å®„ÇÅ

ËªΩ„Åè EC2 „Çí‰Ωø„Å£„Å¶„ÅÑ„ÇãÁ®ãÂ∫¶„Å™„Çâ AWS Backup „Åã„Çâ„ÅÆ„É™„Çπ„Éà„Ç¢„ÅØ‰æøÂà©„Å†„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ  
„Åü„Å†„ÄÅ„Ç¥„É™„Ç¥„É™„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„ÅüÁí∞Â¢É„Åß‰Ωø„Å£„Å¶„ÅÑ„Çã„Å®‰∏çË∂≥„Åó„Å¶„Åè„ÇãÁÆáÊâÄ„ÇÇÂá∫„Å¶„Åç„Åæ„Åó„Åü„ÄÇ
